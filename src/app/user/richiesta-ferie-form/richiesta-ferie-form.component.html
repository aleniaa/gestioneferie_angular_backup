<div class="container fadeInDown">
  <h1>Richiesta Permessi</h1>
  <div class="row">
    <div class="col">
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown"
          mdbDropdownToggle aria-haspopup="true" aria-expanded="false">
          Scegli il tipo di permesso
        </button>
        <ul mdbDropdownMenu class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="tipo_permesso">
          <li><a class="dropdown-item" (click)="toggleForm('congedo')">CONGEDO ORDINARIO</a></li>
          <!-- <li><a class="dropdown-item" (click)="toggleForm('permesso_breve')">PERMESSO BREVE</a></li> -->
          <li><a class="dropdown-item" (click)="toggleForm('recupero_ore')">RECUPERO ORE ECCEDENTI</a></li>
          <li><a class="dropdown-item" (click)="toggleForm('permessi')">ALTRI PERMESSI</a></li>
          <li><a class="dropdown-item" (click)="toggleForm('malattia')">MALATTIA</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="container" id="ferie_form">

    </div>
  </div>
</div>


<!-- <div class="container fadeInDown" >
  <h1>Richiesta Permessi</h1>
  <div class="row">
    <div class="col">
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton"
          data-toggle="dropdown" mdbDropdownToggle aria-haspopup="true" aria-expanded="false">
          Scegli il tipo di permesso
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="tipo_permesso">
          <li><a class="dropdown-item" (click)="toggleForm('congedo')">CONGEDO ORDINARIO</a></li>
          
          <li><a class="dropdown-item" (click)="toggleForm('recupero_ore')">RECUPERO ORE ECCEDENTI</a></li>
          <li>
            <a class="dropdown-item" (click)="toggleForm('recupero_ore')">Malattia</a>
            <ul class="dropdown-menu dropdown-submenu">
              <li>
                <a class="dropdown-item" href="#">Malattia</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Malattia per causa di servizio</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Malattia COVID-19</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Submenu item 5</a>
              </li>
            </ul>
          </li>
          
          <li><a class="dropdown-item" (click)="toggleForm('recupero_ore')">RECUPERO ORE ECCEDENTI</a></li>
          <li>
            <a class="dropdown-item">ALTRI PERMESSI</a>
            <ul class="dropdown-menu dropdown-submenu">
              <li>
                <a class="dropdown-item" href="#">Concorsi ed esami</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Submenu item 2</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Submenu item 4</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Submenu item 5</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="container" id="ferie_form">
      
    </div>
  </div>
</div> -->


<!-- ---------------------------------- MALATTIA -------------------------- -->

<div id="malattia_container" class="container fadeIn" style="display: none;">


  <!-- <h1>{{idUtenteApp}} ciao</h1> -->
  <h2 style="padding-top: 5px;">MALATTIA</h2>
  <p><i>Da allegare certificato medico nella pagina "I miei permessi"</i> </p>

  <form #malattia_form="ngForm" (ngSubmit)="aggiungiPermesso(malattia_form)" id="malattia_form" ngNativeValidate>
    <!-- (ngSubmit)="inviaPermesso(malattia)"  -->
    <input type="hidden" [(ngModel)]="idUtenteLoggato" name="idUtenteRichiedente" class="form-control"
      id="idUtenteRichiedente">

    <input type="hidden" [(ngModel)]="tipo_malattia" name="tipoPermesso" id="tipoPermesso_malattia" required>
    <!-- il punto interrogativo serve a verificare se il dato esiste, se non si mette e non esiste da errore -->
    <div class="form-check">
      <input class="form-check-input" type="radio" [(ngModel)]="tipo_malattia" value="Malattia" name="tipoPermesso"
        id="malattia" (ngModelChange)="malattia_radioButtonChanged()" required />
      <label class="form-check-label" for="malattia"> Malattia</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" [(ngModel)]="tipo_malattia" value="Malattia per causa di servizio"
        name="tipoPermesso" (ngModelChange)="malattia_radioButtonChanged()" id="malattia_causa_servizio" />
      <label class="form-check-label" for="malattia_causa_servizio"> Malattia per causa di servizio</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" [(ngModel)]="tipo_malattia" value="Terapia salvavita"
        name="tipoPermesso" (ngModelChange)="malattia_radioButtonChanged()" id="terapia_salvavita" />
      <label class="form-check-label" for="terapia_salvavita"> Terapia salvavita</label>
    </div>
    <div class="form-check">
      <input class="form-check-input" type="radio" [(ngModel)]="tipo_malattia" value="Malattia COVID-19"
        name="tipoPermesso" id="malattia_covid" (ngModelChange)="malattia_radioButtonChanged()" />
      <label class="form-check-label" for="malattia_covid"> Malattia COVID-19 </label>
    </div>

    <div class="row">
      <div class="col">

        <div class="form-group">
          <label for="dataInizio">Giorni di malattia dal </label>
          <input type="date" [(ngModel)]="dataInizio" (ngModelChange)="updateTotGiorni()" name="dataInizio"
            class="form-control" id="dataInizio" title="Data inizio ferie" required />
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="dataFine">al</label>
          <input type="date" [(ngModel)]="dataFine" (ngModelChange)="updateTotGiorni()" name="dataFine"
            class="form-control" id="dataFine" [min]="dataInizio" title="Data fine ferie" required />
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="totGiorni">Giorni totali:</label>
          <input id="totGiorni" [(ngModel)]="totGiorni" name="totGiorni" class="form-control" readonly />
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="submit" class="btn btn-primary">Invia</button> <!-- [disabled]="addForm.invalid" -->
    </div>
  </form>
  <div class="alert alert-success" role="alert" *ngIf="message">
    {{message}}
  </div>
  <div class="alert alert-danger" role="alert" *ngIf="error">
    {{error}}
  </div>
</div>

<!-- _____________________________________________________ CONGEDO _____________________________________ -->

<div id="congedo_form" class="container fadeIn" style="display: none;">

  <!-- <h1>{{idUtenteApp}} ciao</h1> -->
  <h2 style="padding-top: 5px;">CONGEDO ORDINARIO</h2>
  <form #congedo="ngForm" (ngSubmit)="aggiungiPermesso(congedo)" id="congedo" ngNativeValidate>
    <!-- (ngSubmit)="inviaPermesso(congedo)"  -->


    <input type="hidden" [(ngModel)]="tipoPermesso" name="tipoPermesso" id="tipoPermesso_congedo" required>
    <!-- ngModel="Congedo Ordinario" ng-value="Congedo Ordinario" value="Congedo Ordinario" -->

    <!-- il punto interrogativo serve a verificare se il dato esiste, se non si mette e non esiste da errore -->
    <div class="row">
      <div class="col">

        <div class="form-group">
          <label for="dataInizio">Giorni di ferie dal </label>
          <input type="date" [(ngModel)]="dataInizio" (ngModelChange)="updateTotGiorni()" name="dataInizio"
            class="form-control" id="dataInizio" title="Data inizio ferie" required />
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="dataFine">al</label>
          <input type="date" [(ngModel)]="dataFine" (ngModelChange)="updateTotGiorni()" name="dataFine"
            class="form-control" id="dataFine" [min]="dataInizio" title="Data fine ferie" required />
        </div>
      </div>
      <div class="col">
        <div class="form-group">
          <label for="totGiorni">Giorni totali:</label>
          <input id="totGiorni" [(ngModel)]="totGiorni" name="totGiorni" class="form-control" readonly />
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="searchutenteFerie">Da sottomettere per approvazione al capoturno/funzionario:</label>
      <!-- <select ngModel name="idUtenteApprovazione" class="form-control" id="idUtenteApprovazione"
        placeholder="Scegli funzionario" form="congedo" required>

        <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
          {{approvatore?.cognome + " " + approvatore?.nome}}</option>
      </select> -->
      <input type="text" (ngModelChange)="cercaApprovatoreFerie(keyInput.value)" #keyInput="ngModel"
        [(ngModel)]="infoUtenteFerie" name="searchutenteFerie" id="searchutenteFerie" class="form-control mr-sm-2"
        placeholder="Cerca utente.." required autocomplete="off">
      <ul class="list-group" id="utentiTrovati">
        <li class="list-group-item qualificheTrovate" *ngFor="let utenteFerie of utentiFerieTrovati"
          value="{{utenteFerie}}">
          <a (click)="selezionaUtenteFerie(utenteFerie)">{{utenteFerie?.nome+ " "+ utenteFerie?.cognome}}</a>
        </li>
      </ul>

      <input type="hidden" ngModel="{{utenteFerieSelezionato?.id}}" name="idUtenteApprovazione" class="form-control"
        id="idUtenteApprovazione">

    </div>
    <div class="form-group">
      <label for="idUtenteApprovazioneDue">Da sottomettere per approvazione ad un ulteriore capoturno/funzionario
        (opzionale):</label>
      <select ngModel name="idUtenteApprovazioneDue" class="form-control" id="idUtenteApprovazioneDue"
        placeholder="Scegli capoturno" form="permessi">
        <option [ngValue]="">{{" "}}</option>
        <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
          {{approvatore?.cognome + " " + approvatore?.nome}}</option>
      </select>
    </div>

    <div class="modal-footer">
      <button type="submit" class="btn btn-primary">Invia</button> <!-- [disabled]="addForm.invalid" -->
    </div>
  </form>
  <div class="alert alert-success" role="alert" *ngIf="message">
    {{message}}
  </div>
  <div class="alert alert-danger" role="alert" *ngIf="error">
    {{error}}
  </div>
</div>
<!-- _________________ PERMESSO BREVE _______________ -->

<!-- <div id="permesso_breve_form" class="container fadeIn" style="display: none;">
  <div class="row">
    <h2 style="padding-top: 5px;">PERMESSO BREVE (fino a 36 ore annue)</h2>
    <h5>(Inserire le ore nel formato HH:mm, esempio 08:35)</h5>
    <form #permesso_breve="ngForm" (ngSubmit)="aggiungiPermesso(permesso_breve)" id="permesso_breve" ngNativeValidate>
      <input type="hidden" ngModel="{{utenteLoggato?.id}}" name="idUtenteRichiedente" class="form-control"
        id="idUtenteRichiedente">

      <input type="hidden" ngModel="Permesso breve" name="tipoPermesso" id="tipoPermesso">
      <div class="form-group">
        <div class="row">

          <div class="col">

            <label for="dalleOre">Dalle ore: </label>
            <input type="text" [(ngModel)]="oreInizio" (ngModelChange)="updateTotOre()" name="dalleOre"
              class="form-control" id="dalleOre" title="Inserisci ore nel formato HH:mm"
              pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" required />

          </div>
          <div class="col">

            <label for="alleOre">alle ore: </label>
            <input type="text" [(ngModel)]="oreFine" (ngModelChange)="updateTotOre()" name="alleOre"
              class="form-control" id="alleOre" title="Ore fine" title="Inserisci ore nel formato HH:mm"
              pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" required />
          </div>

          <div class="col">

            <label for="dataInizio">del giorno</label>
            <input type="date" ngModel name="dataInizio" class="form-control" id="dataInizio" title="Giorno" required />
          </div>

          <div class="col">

            <label for="totOre">Ore totali:</label>
            <input id="totOre" [(ngModel)]="totOre" name="totOre" class="form-control" readonly />
            <p><i>Da recuperare entro il mese successivo</i></p>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="approvazione">Da sottomettere per approvazione a:</label>
        <select ngModel name="idUtenteApprovazione" class="form-control" id="idUtenteApprovazione"
          placeholder="Scegli funzionario" form="permesso_breve" required>
          <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
            {{approvatore?.cognome + " " + approvatore?.nome}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="approvazione">Da sottomettere per approvazione al capoturno (per personale operativo):</label>
        <select ngModel name="idUtenteApprovazioneDue" class="form-control" id="idUtenteApprovazioneDue"
          placeholder="Scegli capoturno" form="permessi">
          <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
            {{approvatore?.cognome + " " + approvatore?.nome}}</option>
        </select>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Invia</button> 
      </div>
    </form>
    <div class="alert alert-success" role="alert" *ngIf="message">
      {{message}}
    </div>
  </div>
</div> -->

<!-- ________________ RECUPERO ORE____________ -->

<div id="recupero_ore_form" class="container fadeIn" style="display: none;">
  <div class="row">
    <h2 style="padding-top: 5px;">RECUPERO ORE ECCEDENTI (Effettuate oltre l'orario di servizio)</h2>
    <form #recupero_ore="ngForm" (ngSubmit)="aggiungiPermesso(recupero_ore)" id="recupero_ore" ngNativeValidate>
      <input type="hidden" ngModel="{{utenteLoggato?.id}}" name="idUtenteRichiedente" class="form-control"
        id="idUtenteRichiedente">

      <input type="hidden" ngModel="Recupero ore eccedenti" name="tipoPermesso" id="tipoPermesso_recupero_ore">

      <div class="row">

        <div class="col">
          <label class="form-check-label" for="dalleOre"> Dalle ore: </label>
          <input type="text" [(ngModel)]="oreInizio" (ngModelChange)="updateTotOre()" id="dalleOre" name="dalleOre"
            class="form-control" id="dalleOre" title="Inserisci ore nel formato HH:mm"
            pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" required />
        </div>
        <div class="col">

          <label class="form-check-label" for="alleOre"> alle ore </label>
          <input type="text" [(ngModel)]="oreFine" (ngModelChange)="updateTotOre()" name="alleOre" class="form-control"
            id="alleOre" title="Ore fine" title="Inserisci ore nel formato HH:mm"
            pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" required />

        </div>
        <div class="col">

          <label class="form-check-label" for="dataInizioOre"> dal giorno </label>
          <input type="date" [(ngModel)]="dataInizio" (ngModelChange)="updateTotOre()" name="dataInizio"
            id="dataInizioOre" class="form-control" required />

        </div>
        <div class="col">

          <label class="form-check-label" for="dataFineOre"> al giorno </label>
          <input type="date" [(ngModel)]="dataFine" (ngModelChange)="updateTotOre()" name="dataFine" [min]="dataInizio"
            id="dataFineOre" class="form-control" required />


        </div>

        <div class="col">

          <label class="form-check-label" for="totOre"> per un totale di: </label>
          <input id="totOre" [(ngModel)]="totOreGiorni" name="totOre" class="form-control" readonly />


        </div>
      </div>
      <div class="form-group">
        <label for="idUtenteApprovazione">Da sottomettere per approvazione al capoturno/funzionario:</label>
        <select ngModel name="idUtenteApprovazione" class="form-control" id="idUtenteApprovazione"
          placeholder="Scegli funzionario" form="recupero_ore" required>
          <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
            {{approvatore?.cognome + " " + approvatore?.nome}}</option>
        </select>
      </div>
      <div class="form-group">
        <label for="idUtenteApprovazioneDue">Da sottomettere per approvazione ad un ulteriore capoturno/funzionario
          (opzionale):</label>
        <select ngModel name="idUtenteApprovazioneDue" class="form-control" id="idUtenteApprovazioneDue"
          placeholder="Scegli capoturno" form="permessi">
          <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
            {{approvatore?.cognome + " " + approvatore?.nome}}</option>
        </select>
      </div>

      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Invia</button> <!-- [disabled]="addForm.invalid" -->
      </div>
    </form>
    <div class="alert alert-success" role="alert" *ngIf="message">
      {{message}}
    </div>
  </div>
</div>

<!-- _________________________________________ FORM ALTRI PERMESSI _________________________________________ -->

<div id="permessi_form" class="container fadeIn" style="display: none;">
  <div class="row">
    <h2 style="padding-top: 5px;">ALTRI PERMESSI</h2>

    <form #permessi="ngForm" (ngSubmit)="aggiungiPermesso(permessi)" id="permessi" ngNativeValidate>
      <input type="hidden" ngModel="{{utenteLoggato?.id}}" name="idUtenteRichiedente" class="form-control"
        id="idUtenteRichiedente">

      <div class="row">
        <div class="col">
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="concorsiEdEsami" name="tipoPermesso"
              id="concorsiEdEsami" value="Concorsi ed Esami" required>
            <label class="form-check-label" for="concorsiEdEsami"> Concorsi ed Esami (8 gg/anno) </label>

          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="luttoFamiliare" name="tipoPermesso"
              id="luttoFamiliare" value="Lutto Familiare" />
            <label class="form-check-label" for="luttoFamiliare"> Lutto familiare (3 gg/evento) </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="graviInfermita" name="tipoPermesso"
              id="graviInfermita" value="Gravi Infermita" />
            <label class="form-check-label" for="graviInfermita"> Gravi infermità 18 ore/anno </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="matrimonio" name="tipoPermesso" id="matrimonio"
              value="Matrimonio" />
            <label class="form-check-label" for="matrimonio"> Matrimonio(15 gg consecutivi) </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="sport" name="tipoPermesso" id="sport" value="Sport" />
            <label class="form-check-label" for="sport"> Attività ginnico-sportiva </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="motiviPersonali" name="tipoPermesso"
              id="motiviPersonali" value="Motivi Personali" />
            <label class="form-check-label" for="motiviPersonali"> Motivi personali o familiari (18 oee/anno)
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="malattiaDLGS" name="tipoPermesso" id="malattiaDLGS"
              value="Malattia DLGS n.119" />
            <label class="form-check-label" for="malattiaDLGS"> Malattia cure/terapie D.Lgs. n.119 del 18/07/2011
              (30
              gg./anno)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="malattia_visite" name="tipoPermesso"
              id="malattia_visite" value="Malattia visite" />
            <label class="form-check-label" for="malattia_visite"> Malattia per visite, terapie, prestazioni
              specialistiche ed esami
              diagnostici (18 h /anno)</label>
            <p><i>(obbligatoria documentazione medica giustificativa assenza)</i></p>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="sangue" name="tipoPermesso" id="sangue"
              value="Donazione sangue" />
            <label class="form-check-label" for="sangue"> Donazione Sangue (24 ore dalla donazione)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="studio" name="tipoPermesso" id="studio"
              value="Studio" />
            <label class="form-check-label" for="studio"> Motivi di studio (max 150 ore/anno)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="Testimonianze" name="tipoPermesso" id="Testimonianze"
              value="Testimonianze" />
            <label class="form-check-label" for="Testimonianze"> Testimonianze per motivi di servizio
              (illimitate)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="sindacale" name="tipoPermesso" id="sindacale"
              value="Permesso Sindacale" />
            <label class="form-check-label" for="sindacale"> Permesso sindacale</label>
          </div>
          <h6>L. 265/99 - artt. 18 e 24</h6>
          <div class="form-check">

            <input class="form-check-input" type="radio" ngModel="cariche_elettive" name="tipoPermesso"
              id="cariche_elettive" value="Cariche elettive" />
            <label class="form-check-label" for="cariche_elettive"> Cariche elettive</label>
          </div>
          <h6>D.P.R. 30/03/57 n.361 – L. 29/01/92 n.69</h6>
          <div class="form-check">

            <input class="form-check-input" type="radio" ngModel="elezioni" name="tipoPermesso" id="elezioni"
              value="Permesso elezioni" />
            <label class="form-check-label" for="elezioni"> Permesso per elezioni/referendum</label>
            <p><i>(Assenze per Funzioni Elettorali – 18 ore/evento - Obbligatoria documentazione giustificativa)</i>
            </p>
          </div>
        </div>
        <div class="col">
          <h6>L. 104/92 - art.33 (2ore/g - 18ore/mese)</h6>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="assistenza_disabili" name="tipoPermesso"
              id="assistenza_disabili" value="Assistenza disabili" />
            <label class="form-check-label" for="assistenza_disabili"> Assistenza disabili</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="permessi_individuali" name="tipoPermesso"
              id="permessi_individuali" value="Permessi individuali" />
            <label class="form-check-label" for="permessi_individuali"> Permessi individuali</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="prolungamento_congedo_parentale" name="tipoPermesso"
              id="prolungamento_congedo_parentale" value="Prolungamento congedo parentale" />
            <label class="form-check-label" for="prolungamento_congedo_parentale"> Prolungamento del congedo
              parentale
              L.104/92
              (Circ. n. 139 17/07/2015)</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="congedo_parentale" name="tipoPermesso"
              id="congedo_parentale" value="Congedo parentale" />
            <label class="form-check-label" for="congedo_parentale"> Congedo parentale</label>
            <p><i>(obbligatoria autocertificazione del coniuge)</i></p>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="riposi_giornalieri" name="tipoPermesso"
              id="riposi_giornalieri" value="Riposi giornalieri" />
            <label class="form-check-label" for="riposi_giornalieri"> Riposi giornalieri</label>
            <p><i>(obbligatoria documentazione relativa al coniuge)</i></p>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="malattia_figlio" name="tipoPermesso"
              id="malattia_figlio" value="Malattia figlio" />
            <label class="form-check-label" for="malattia_figlio"> Congedo per malattia figlio/a</label>
            <p><i>(obbligatoria certificazione malattia figlio/a)</i></p>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="allattamento" name="tipoPermesso" id="allattamento"
              value="Allattamento" />
            <label class="form-check-label" for="allattamento"> Permessi orari retribuiti per allattamento</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="paternita" name="tipoPermesso" id="paternita"
              value="Paternita" />
            <label class="form-check-label" for="paternita"> Congedo obbligatorio di paternità 10 gg /5
              turni</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" ngModel="permesso breve" name="tipoPermesso"
              id="permesso_breve" value="Permesso breve" />
            <label class="form-check-label" for="permesso_breve"> Permesso breve (fino a 36 ore annue)</label>
          </div>
        </div>
      </div>
      <h5 style="text-align: center;"><b>E comunica che la fruizione del permesso, ove autorizzata, comporterà
          l’assenza dal servizio per un intervallo di tempo:</b></h5>

      <!-- ------------------------------- -->

      <div class="container">
        <div id="dettagli_form">
          <div class="row">
            <input class="form-check-input" type="radio" name="intervallo_tempo" id="orario" value="orario" required
              [(ngModel)]="selectedOption" />
            <label for="orario" class="custom-radio-button">Orario</label><br>
            <fieldset>
              <div class="form-group" [hidden]="selectedOption !== 'orario'">
                <div class="row">

                  <div class="col">
                    <label class="form-check-label" for="dalleOre"> Dalle ore: </label>
                    <input type="text" [(ngModel)]="oreInizio" (ngModelChange)="updateTotOre()"
                      name="dalleOre" class="form-control" id="dalleOre" title="Inserisci ore nel formato HH:mm"
                      pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" [required]="selectedOption === 'orario'" />
                  </div>
                  <div class="col">

                    <label class="form-check-label" for="alleOre"> alle ore </label>
                    <input type="text" [(ngModel)]="oreFine" (ngModelChange)="updateTotOre()" name="alleOre"
                      class="form-control" id="alleOre" title="Ore fine" title="Inserisci ore nel formato HH:mm"
                      pattern="^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$" [required]="selectedOption === 'orario'" />

                  </div>
                  <div class="col">

                    <label class="form-check-label" for="dataInizioOre"> dal giorno </label>
                    <input type="date" [(ngModel)]="dataInizio" (ngModelChange)="updateTotOre()" name="dataInizio"
                      id="dataInizioOre" class="form-control" [required]="selectedOption === 'orario'" />

                  </div>
                  <div class="col">

                    <label class="form-check-label" for="dataFineOre"> al giorno </label>
                    <input type="date" [(ngModel)]="dataFine" (ngModelChange)="updateTotOre()" name="dataFine"
                      [min]="dataInizio" id="dataFineOre" class="form-control"
                      [required]="selectedOption === 'orario'" />


                  </div>

                  <div class="col">

                    <label class="form-check-label" for="totOre"> per un totale di: </label>
                    <input id="totOre" [(ngModel)]="totOreGiorni" name="totOre" class="form-control" readonly />


                  </div>
                </div>
              </div>
            </fieldset>
          </div>

          <div class="row">
            <input class="form-check-input" type="radio" name="intervallo_tempo" id="giornaliero" value="giornaliero"
              [(ngModel)]="selectedOption" required />
            <label for="giornaliero" class="custom-radio-button">Giornaliero</label><br>

            <fieldset>
              <div class="form-group" [hidden]="selectedOption !== 'giornaliero'">
                <div class="row">
                  <div class="col">

                    <label class="form-check-label" for="dal_giorno"> dal giorno </label>
                    <input type="date" [(ngModel)]="dataInizio" (ngModelChange)="updateTotGiorni()" name="dataInizio"
                      id="dal_giorno" class="form-control" [required]="selectedOption === 'giornaliero'" />

                  </div>

                  <div class="col">

                    <label class="form-check-label" for="al_giorno"> al giorno </label>
                    <input type="date" [(ngModel)]="dataFine" (ngModelChange)="updateTotGiorni()" name="dataFine"
                      [min]="dataInizio" id="al_giorno" class="form-control"
                      [required]="selectedOption === 'giornaliero'" />

                  </div>

                  <div class="col">


                    <label class="form-check-label" for="totGiorni"> per un totale di: </label>
                    <input id="totGiorni" [(ngModel)]="totGiorni" name="totGiorni" readonly />

                  </div>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>


      <h4><b>SI ALLEGA/SEGUIRA' DOCUMENTAZIONE GIUSTIFICATIVA (da allegare nella sezione "I miei permessi")</b></h4>
      <div class="col">
        <div class="form-group">
          <label for="idUtenteApprovazione">Da sottomettere per approvazione al capoturno/funzionario:</label>
          <select [(ngModel)]="selectedUtenteApprovazioneId" name="idUtenteApprovazione" class="form-control"
            id="idUtenteApprovazione" placeholder="Scegli funzionario" form="permessi" required>
            <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
              {{approvatore?.cognome + " " + approvatore?.nome}}</option>
          </select>
        </div>
      </div>
      <div class="col">

        <div class="form-group">
          <label for="idUtenteApprovazioneDue">Da sottomettere per approvazione ad un ulteriore capoturno/funzionario
            (opzionale):</label>
          <select [(ngModel)]="selectedUtenteApprovazioneDueId" name="idUtenteApprovazioneDue" class="form-control"
            id="idUtenteApprovazioneDue" placeholder="Scegli capoturno" form="permessi">
            <option *ngFor="let approvatore of utentiFerie" [ngValue]="approvatore.id">
              {{approvatore?.cognome + " " + approvatore?.nome}}</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Invia</button> <!-- [disabled]="addForm.invalid" -->
      </div>
    </form>
    <!-- </div> -->
    <div class="alert alert-success" role="alert" *ngIf="message">
      {{message}}
    </div>

  </div>
</div>